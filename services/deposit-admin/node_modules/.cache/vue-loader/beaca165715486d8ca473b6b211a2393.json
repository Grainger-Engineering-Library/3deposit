{"remainingRequest":"E:\\Summer 2019\\IDEA Lab\\3deposit\\services\\deposit-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Summer 2019\\IDEA Lab\\3deposit\\services\\deposit-admin\\src\\pages\\GalleryBuilder.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Summer 2019\\IDEA Lab\\3deposit\\services\\deposit-admin\\src\\pages\\GalleryBuilder.vue","mtime":1563394253805},{"path":"E:\\Summer 2019\\IDEA Lab\\3deposit\\services\\deposit-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Summer 2019\\IDEA Lab\\3deposit\\services\\deposit-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Summer 2019\\IDEA Lab\\3deposit\\services\\deposit-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Summer 2019\\IDEA Lab\\3deposit\\services\\deposit-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport axios from 'axios';\r\nimport GalleryCard from \"./GalleryBuilder/GalleryCard.vue\";\r\nimport FilterKey from \"./GalleryBuilder/FilterKey.vue\"\r\n\r\nexport default {\r\n    name: \"gallery-builder\",\r\n    data() {\r\n        return{\r\n            deposits: [],\r\n            sortBy: {\r\n                field: 'deposit_date',\r\n                ascending: false\r\n            },\r\n            filters: []\r\n        }\r\n    },\r\n    components: {\r\n        GalleryCard,\r\n        FilterKey\r\n    },\r\n    created() {  \r\n        axios.get(\"http://localhost:8080/deposits\")\r\n        .then(response => this.deposits = response.data.deposits)\r\n    },\r\n    methods: {\r\n        order(deposits) {\r\n             let sb = this.sortBy;\r\n             if (sb.field==='deposit_date') {\r\n                return deposits.slice().sort(function(a, b) {\r\n                    var atime = new Date(a.deposit_date);\r\n                    var btime = new Date(b.deposit_date);\r\n                    if(sb.ascending===true) {\r\n                        return atime.getTime() - btime.getTime();\r\n                    }\r\n                    else {\r\n                        return btime.getTime() - atime.getTime(); \r\n                    }\r\n                });   \r\n            }\r\n        },\r\n        addFilter(filter) {\r\n            this.filters.push(filter)\r\n            console.log(\"parent\",filter)\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["GalleryBuilder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GalleryBuilder.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"card-columns\" style=\"column-count: 5\">\r\n            <!-- <div class=\"col-lg-15\"> -->\r\n                <div class=\"card\" v-for=\"(d, index) in order(this.deposits)\" :key=\"index\">\r\n                    <gallery-card \r\n                        :deposit=\"d\"\r\n                    >\r\n                    </gallery-card>\r\n                </div>\r\n            <!-- </div> -->\r\n        </div>\r\n        <filter-key @addFilter=\"addFilter(filter)\">\r\n\r\n        </filter-key>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport GalleryCard from \"./GalleryBuilder/GalleryCard.vue\";\r\nimport FilterKey from \"./GalleryBuilder/FilterKey.vue\"\r\n\r\nexport default {\r\n    name: \"gallery-builder\",\r\n    data() {\r\n        return{\r\n            deposits: [],\r\n            sortBy: {\r\n                field: 'deposit_date',\r\n                ascending: false\r\n            },\r\n            filters: []\r\n        }\r\n    },\r\n    components: {\r\n        GalleryCard,\r\n        FilterKey\r\n    },\r\n    created() {  \r\n        axios.get(\"http://localhost:8080/deposits\")\r\n        .then(response => this.deposits = response.data.deposits)\r\n    },\r\n    methods: {\r\n        order(deposits) {\r\n             let sb = this.sortBy;\r\n             if (sb.field==='deposit_date') {\r\n                return deposits.slice().sort(function(a, b) {\r\n                    var atime = new Date(a.deposit_date);\r\n                    var btime = new Date(b.deposit_date);\r\n                    if(sb.ascending===true) {\r\n                        return atime.getTime() - btime.getTime();\r\n                    }\r\n                    else {\r\n                        return btime.getTime() - atime.getTime(); \r\n                    }\r\n                });   \r\n            }\r\n        },\r\n        addFilter(filter) {\r\n            this.filters.push(filter)\r\n            console.log(\"parent\",filter)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}